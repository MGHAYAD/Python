(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1452:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(0),r=a.n(i),s=a(245),o=a(31),l=a.n(o),c=a(17),u=a(34),d=a.n(u),f=a(154),m=a(365),g=a(38),v=a(175),b=a(233),p=a.n(b),h=a(534),_=a(32),j=a(355),y=a(997),w=a.n(y),O=a(2380),E=a(2386),M=a(909),k=a(2025),A=a(150);function x(){var e=Object(n.l)(["\n    query ReferralReward {\n        referrerReferralReward {\n            referralDiscount\n            referralRewardLocalized\n            referralReward\n        }\n    }\n"]);return x=function(){return e},e}var T=l()(x()),C=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 40 40"},t),r.a.createElement("rect",{width:"40",height:"40",fill:"#D9F1CD",rx:"20"}),r.a.createElement("path",{stroke:"#50BF16",strokeLinecap:"round",strokeWidth:"2",d:"M23 26a7 7 0 10-5.745-11"}),r.a.createElement("path",{stroke:"#50BF16",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M23 16v3h2.5M15 18v3.667c-3.536 0-6 1.512-6 5.833 2.063-1.964 3.25-2.167 6-2.167V29l5-5.5-5-5.5z"}))},I=a(46);Object(I.a)(".styles_referralIcon__7QQzN svg {\n  width: 40px;\n  height: 40px;\n}\n.styles_referralMessageButton__KJNYp {\n  margin-left: 8px;\n  background: #fff;\n  color: #6f757b;\n  border: 1px solid #aeb5bc;\n  width: 50%;\n  min-height: 18px;\n  white-space: initial;\n}\n.styles_referralMessageButton__KJNYp:hover {\n  background: #aeb5bc;\n  color: #fff;\n}\n.styles_referralMessageButtonInvite__dVr0j {\n  background: #50bf16;\n  color: #fff;\n  border: none;\n  margin-left: 0;\n}\n.styles_referralMessageButtonInvite__dVr0j:hover {\n  background: #54cd14;\n}\n");var N={referralIcon:"styles_referralIcon__7QQzN",referralMessageButton:"styles_referralMessageButton__KJNYp",referralMessageButtonInvite:"styles_referralMessageButtonInvite__dVr0j"},B=a(35),R=a(2);function S(){var e=Object(n.l)(["\n    mutation ReferralBell {\n        storeReferralBellNotificationMutation {\n            ok\n            error\n        }\n    }\n"]);return S=function(){return e},e}function V(){var e=Object(n.l)(["\n    mutation ReferralBellDismiss {\n        storeReferralBellDismissNotificationMutation {\n            ok\n            error\n        }\n    }\n"]);return V=function(){return e},e}var L=function(e){var t=e.className,a=e.children,i=e.invite,o=e.href,l=e.target,c=Object(s.b)(e,["className","children","invite","href","target"]);return r.a.createElement(M.a,Object(n.e)({},c,{className:d()(t,N.referralMessageButton,Object(n.d)({},N.referralMessageButtonInvite,i)),href:o,target:l}),a)},D=l()(V()),U=l()(S()),z=function(e){var t=e.language,a=e.referralMessageIndex,s=e.onActionClick,o=function(e){var t=Object(c.d)(T,{skip:null==e?void 0:e.skip,fetchPolicy:"cache-first"}),a=t.data,n=t.loading,r=t.error,s=a&&a.referrerReferralReward?a.referrerReferralReward:null,o=null;return null!==s&&(o=s.referralRewardLocalized?s.referralRewardLocalized:s.referralReward),Object(i.useEffect)((function(){r&&A.a.withScope((function(e){e.setTag("referral","Failed_to_fetch_referrer_reward_in_navigation"),A.a.captureException(r)}))}),[r]),Object.assign(Object.assign({},s),{error:r,loading:n,referralRewardLocalized:o})}(),l=o.loading,u=o.error,d=function(e){var t=e.index,a=e.referralReward,i=e.referralDiscount,s=[{header:r.a.createElement(B.a,{defaultMessage:"Invite your friends and earn free credits",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Invite your friends and earn free credits","description":"referralBell.header.1"}'}),message:r.a.createElement(B.a,{defaultMessage:"Like your lessons? Share the joy of learning languages!",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Like your lessons? Share the joy of learning languages!","description":"referralBell.message.1"}'}),dismissalText:r.a.createElement(B.a,{defaultMessage:"Dismiss",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":"referralBell.dismiss.1"}'}),referralText:r.a.createElement(B.a,{defaultMessage:"Invite friends",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Invite friends","description":"referralBell.confirm.1"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_invite_free_credits"},{header:r.a.createElement(B.a,{defaultMessage:"Refer a friend and earn {referralReward}",values:Object(n.h)({},R.formattedMessageAbTestValues,{},Object.assign({referralReward:a})),id:'{"defaultMessage":"Refer a friend and earn {referralReward}","description":"referralBell.header.2"}'}),message:r.a.createElement(B.a,{defaultMessage:"Learning is more fun with friends. Earn up to {referralReward} for every friend you invite to join Preply.",values:Object(n.h)({},R.formattedMessageAbTestValues,{},Object.assign({referralReward:a})),id:'{"defaultMessage":"Learning is more fun with friends. Earn up to {referralReward} for every friend you invite to join Preply.","description":"referralBell.message.2"}'}),dismissalText:r.a.createElement(B.a,{defaultMessage:"Close",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Close","description":"notification.close"}'}),referralText:r.a.createElement(B.a,{defaultMessage:"Refer a friend",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_refer_get5"},{header:r.a.createElement(B.a,{defaultMessage:"Give {referralDiscount}, get {referralReward}",values:Object(n.h)({},R.formattedMessageAbTestValues,{},{referralDiscount:i,referralReward:a}),id:'{"defaultMessage":"Give {referralDiscount}, get {referralReward}","description":"referralBell.header.3"}'}),message:r.a.createElement(B.a,{defaultMessage:"Give your friends {referralDiscount} off their first lesson on Preply, and you’ll get {referralReward} when they make a purchase!",values:Object(n.h)({},R.formattedMessageAbTestValues,{},{referralDiscount:i,referralReward:a}),id:'{"defaultMessage":"Give your friends {referralDiscount} off their first lesson on Preply, and you’ll get {referralReward} when they make a purchase!","description":"referralBell.message.3"}'}),dismissalText:r.a.createElement(B.a,{defaultMessage:"Close",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Close","description":"notification.close"}'}),referralText:r.a.createElement(B.a,{defaultMessage:"Refer a friend",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!0,eventName:"bell_notif_referral_give30_get5"},{header:r.a.createElement(B.a,{defaultMessage:"Got friends?",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Got friends?","description":"referralBell.header.4"}'}),message:r.a.createElement(B.a,{defaultMessage:"Invite them to join Preply! You’ll get {referralReward} for every friend who starts learning.",values:Object(n.h)({},R.formattedMessageAbTestValues,{},Object.assign({referralReward:a})),id:'{"defaultMessage":"Invite them to join Preply! You’ll get {referralReward} for every friend who starts learning.","description":"referralBell.message.4"}'}),dismissalText:r.a.createElement(B.a,{defaultMessage:"Maybe later",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Maybe later","description":"referralBell.dismiss.4"}'}),referralText:r.a.createElement(B.a,{defaultMessage:"Refer a friend",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!1,eventName:"bell_notif_referral_got_friends"},{header:r.a.createElement(B.a,{defaultMessage:"Want free lessons?",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Want free lessons?","description":"referralBell.header.5"}'}),message:r.a.createElement(B.a,{defaultMessage:"Refer your friends! Get {referralReward} for every friend who buys their first lesson. Your next lesson could be free!",values:Object(n.h)({},R.formattedMessageAbTestValues,{},{referralReward:a}),id:'{"defaultMessage":"Refer your friends! Get {referralReward} for every friend who buys their first lesson. Your next lesson could be free!","description":"referralBell.message.5"}'}),dismissalText:r.a.createElement(B.a,{defaultMessage:"No, thanks",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"No, thanks","description":"referralBell.dismiss.5"}'}),referralText:r.a.createElement(B.a,{defaultMessage:"Refer a friend",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Refer a friend","description":"referralBell.confirm.2"}'}),mentionsDiscount:!0,eventName:"bell_notif_referral_want_free_lessons"}];return s[t<s.length?t:0]}({referralDiscount:o.referralDiscount,index:u?0:a,referralReward:o.referralRewardLocalized}),f=d.header,m=d.message,v=d.dismissalText,b=d.referralText,p=d.eventName,h=Object(c.c)(D),_=Object(n.k)(h,1)[0],j=Object(c.c)(U),y=Object(n.k)(j,1)[0],w=function(e){return Object(g.E)({buttonName:e,name:p,autoOpened:!0})};return Object(i.useEffect)((function(){y(),Object(g.F)({name:p,autoOpened:!0})}),[y,p]),r.a.createElement(k.a,null,{header:f,message:m,isReferralRewardLoading:l,icon:r.a.createElement("div",{className:N.referralIcon},r.a.createElement(C,{"data-qa-group":"system-message-icon"})),primaryAction:r.a.createElement(L,{invite:!0,href:"https://preply.com/".concat(t,"/referral"),target:"_blank","data-qa-group":"system-message-invite-btn",onClick:function(){s(),Object(g.H)("invite"),w("INVITE")}},b),secondaryAction:r.a.createElement(L,{onClick:function(){s(),_(),Object(g.H)("dismiss"),w("DISMISS")},"data-qa-group":"system-message-dismiss-btn"},v)})};function P(){var e=Object(n.l)(["\n    query ReferralBellStatus {\n        referralBellStatus {\n            showReferralBellNotification\n            referralMessageIndex\n        }\n    }\n"]);return P=function(){return e},e}var W=l()(P()),H={read:function(){var e=localStorage.getItem("nav_kids_search_notification_key");return e?JSON.parse(e):null},store:function(e){localStorage.setItem("nav_kids_search_notification_key",JSON.stringify(e))},remove:function(e){localStorage.removeItem(e)}},q=a(847),G=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#E8F6F7"}),r.a.createElement("path",{d:"M28.033 7.777a.576.576 0 011.055.462l-1.754 4a5.322 5.322 0 011.83 3.515l.922 11.44c.097 1.358-.325 2.617-1.19 3.546-.815.876-1.95 1.358-3.196 1.358H14.534a4.644 4.644 0 01-3.429-1.517 4.644 4.644 0 01-1.184-3.557l1.07-11.238a5.32 5.32 0 011.709-3.44l-1.796-3.904a.575.575 0 111.046-.481l1.688 3.67c.36-.198.742-.356 1.139-.467L13.01 7.295a.576.576 0 011.048-.478l1.895 4.151c.115-.007.231-.01.348-.01h.26v-.466a2.393 2.393 0 012.39-2.39h2.082a2.393 2.393 0 012.39 2.39v.465h.433c.06 0 .122.001.182.003l1.813-4.139a.575.575 0 111.055.462l-1.685 3.85c.399.104.783.254 1.145.446l1.666-3.802zm-4.176 4.332h-7.555a4.166 4.166 0 00-4.165 3.786l-1.07 11.238a3.491 3.491 0 00.89 2.673 3.489 3.489 0 002.577 1.14H25.7c.923 0 1.758-.352 2.354-.991.643-.692.958-1.641.884-2.675l-.92-11.422a4.19 4.19 0 00-1.518-2.83.577.577 0 01-.234-.101 4.17 4.17 0 00-1.942-.778.587.587 0 01-.108-.025 4.248 4.248 0 00-.36-.015zm-1.584-1.617a1.24 1.24 0 00-1.239-1.239h-2.081a1.24 1.24 0 00-1.24 1.24v.464h4.56v-.465zm4.383 18.274a.576.576 0 01-.573-.521l-.952-10.004c-.002-1.82-1.446-3.277-3.234-3.277H18.09a3.238 3.238 0 00-3.232 3.241l-.954 10.04a.569.569 0 01-.628.518.575.575 0 01-.518-.627l.951-9.985c-.002-2.38 1.97-4.338 4.38-4.338h3.808a4.385 4.385 0 014.383 4.373l.95 9.95a.574.574 0 01-.516.627c-.031.003-.031.003-.058.003zm-6.923-8.227a.573.573 0 01.52 0l.78.394-.172-.88a.593.593 0 01.104-.49l.713-.79h-.746a.575.575 0 01-.517-.322l-.421-.855-.422.855a.576.576 0 01-.517.322h-.742l.28.307.01.01c.237.261.388.43.425.481.101.137.137.316.099.479l-.172.883.778-.395zm3.116-2.918a.576.576 0 01.459.924L22.034 20l.396 1.87a.575.575 0 01-.82.648l-1.571-.843-1.662.843a.576.576 0 01-.821-.645l.419-1.788-1.3-1.545a.577.577 0 01.463-.92h1.559l.78-1.582c.196-.4.837-.4 1.033 0l.78 1.583h1.559zm-.376 8.232c.576.298.952 1.024.952 1.862 0 1.117-.665 2.003-1.528 2.003s-1.528-.886-1.528-2.003c0-.838.376-1.564.952-1.862v-1.37h-4.659a.575.575 0 110-1.152h6.663a.575.575 0 110 1.152h-.852v1.37zm-.576 1.01c-.159 0-.376.38-.376.852s.217.852.376.852.376-.38.376-.852c0-.473-.217-.852-.376-.852z",fill:"#3BB3BD"}))},F=function(e){var t=e.language,a=e.kidTagAliases,n=e.subjectAlias,s=e.onActionClick,o=Object(q.a)({language:t,subjectAlias:n}).findTutorsUrlData;Object(i.useEffect)((function(){Object(g.z)("popup_shown")}),[]);var l=o&&o.findTutorsUrl.name;return r.a.createElement(k.a,null,{header:r.a.createElement(B.a,{defaultMessage:"Looking for the right tutor for your child?",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Looking for the right tutor for your child?","description":""}'}),message:r.a.createElement(B.a,{defaultMessage:"We made a list of expert tutors for you to choose from",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"We made a list of expert tutors for you to choose from","description":""}'}),icon:r.a.createElement(G,null),primaryAction:r.a.createElement(k.b,{primary:!0,"data-qa-id":"nav-kids-search-view-tutors",href:Y(a,l),onClick:function(){Object(g.z)("click_show_tutors"),s()}},r.a.createElement(B.a,{defaultMessage:"View tutors",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"View tutors","description":""}'})),secondaryAction:r.a.createElement(k.b,{"data-qa-id":"nav-kids-search-dismiss",onClick:function(){Object(g.z)("click_dismiss"),s()}},r.a.createElement(B.a,{defaultMessage:"Not interested",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Not interested","description":""}'}))})},J=["en_gchi","kids_jschool"].join(","),Y=function(e,t){if("undefined"==typeof window||!t)return"";var a=e.length?e.join(","):J;if(t.includes(window.location.pathname)){var i=new URLSearchParams(window.location.search);return i.delete("page"),i.set("tags",a),"".concat(window.location.pathname,"?").concat(i.toString())}var r=new URLSearchParams(Object(n.d)({},"tags",a));return"".concat(t,"?").concat(r.toString())},K=a(740),$=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#D6F4CA"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.778 20.686a1 1 0 01-1.705.64l-2.672-2.67c-2.312 2.169-5.126 4.204-7.42 5.732a87.426 87.426 0 01-4.162 2.603l-.26.15-.068.04-.018.01-.005.002-.002.001-.492-.87-.796-.605.001-.002.004-.005.014-.018.055-.072.21-.274a273.636 273.636 0 013.342-4.269c1.754-2.195 3.857-4.746 5.513-6.508l-2.672-2.672a1 1 0 01.64-1.705l10.102-.674a1 1 0 011.064 1.065l-.673 10.101zm-16.804 5.637l.492.872a1 1 0 01-1.288-1.476l.796.604zm4.391-3.995l-.11.139c2.424-1.635 5.279-3.75 7.45-5.922a1 1 0 011.415 0l1.809 1.81.45-6.763-6.762.45 1.809 1.81a1 1 0 010 1.414c-1.639 1.639-4.043 4.538-6.061 7.062zM24 25a1 1 0 112 0v5a1 1 0 11-2 0v-5zm-4 1.5a1 1 0 00-1 1V30a1 1 0 102 0v-2.5a1 1 0 00-1-1zm-6 3a1 1 0 112 0v.5a1 1 0 11-2 0v-.5z",fill:"#24BB36"}))},Q=function(e){return"".concat("exp_eng_achievements_mvp","_").concat(e,"_click")};Object(I.a)(".styles_dismissButton__1sxDT {\n  margin-left: 8px;\n  background: #fff;\n  color: #6f757b;\n  border: 1px solid #aeb5bc;\n  width: 50%;\n  min-height: 18px;\n  white-space: initial;\n}\n.styles_dismissButton__1sxDT:hover {\n  background: #aeb5bc;\n  color: #fff;\n}\n.styles_primaryButton__2pGs4 {\n  background: #50bf16;\n  color: #fff;\n  border: none;\n  margin-left: 0;\n  white-space: normal;\n}\n.styles_primaryButton__2pGs4:hover {\n  background: #54cd14;\n}\n");var Z={dismissButton:"styles_dismissButton__1sxDT",primaryButton:"styles_primaryButton__2pGs4"},X=function(e){var t=e.subjectAlias,a=e.tutoringId,s=e.onClose,o=Q(t),l=Object(i.useState)(!0),u=Object(n.k)(l,2),f=u[0],m=u[1],v="/edu/".concat(t,"/classroom-v2/").concat(a,"/achievements?source=bell_adoption"),b=Object(c.c)(K.c),p=Object(n.k)(b,1)[0],h=function(e){Object(g.E)({subject:t,buttonName:e,autoOpened:!0,name:"achievements"}),m(!1),p({variables:{eventName:o}})};return Object(i.useEffect)((function(){Object(g.F)({subject:t,autoOpened:!0,name:"achievements"})}),[t]),f?r.a.createElement(k.a,null,{header:r.a.createElement(B.a,{defaultMessage:"New! Track your achievements",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"New! Track your achievements","description":""}'}),message:r.a.createElement(B.a,{defaultMessage:"See your progress toward the next level",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"See your progress toward the next level","description":""}'}),icon:r.a.createElement($,{"data-qa-group":"bell-notification--icon"}),primaryAction:r.a.createElement(M.a,{className:d()(Z.primaryButton),href:v,"data-qa-group":"bell-notification-competencies-track-progress-lessons-btn",onClick:function(){return h("START")}},r.a.createElement(B.a,{defaultMessage:"Track Progress",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Track Progress","description":""}'})),secondaryAction:r.a.createElement(M.a,{className:d()(Z.dismissButton),onClick:function(){h("DISMISS"),s()},"data-qa-group":"bell-notification-competencies-dismiss-btn"},r.a.createElement(B.a,{defaultMessage:"Dismiss",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},ee=a(347),te=a(79),ae=a(202),ne=a(109),ie=function(e){return(null==e?void 0:e.group)===ee.e.LanguageGroup?e.alias:""};function re(){var e=Object(n.l)(["\n    query AllAchievementCertificate {\n        allAchievementCertificates {\n            currentLevel\n            nextLevel\n            hoursToNextLevel\n            downloadUrl\n            subject {\n                id\n                alias\n                translatedName\n            }\n            completedHours\n        }\n    }\n"]);return re=function(){return e},e}var se=l()(re()),oe=a(44);function le(){var e=Object(n.l)(["\n    mutation GamificationEvent($eventName: String!) {\n        gamificationEventMutation(eventName: $eventName) {\n            ok\n        }\n    }\n"]);return le=function(){return e},e}var ce=l()(le()),ue=a(470),de=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#D6F4CA"}),r.a.createElement("path",{d:"M16 24v5l4-2.564L24 29v-5M20.757 22.121a1 1 0 01-1.515 0l-1.405-1.63-2.15-.082a1 1 0 01-.945-1.185l.399-2.115-1.277-1.732A1 1 0 0114.2 13.9l1.902-1.007.558-2.079a1 1 0 011.366-.657l1.973.86 1.973-.86a1 1 0 011.365.657l.558 2.079L25.8 13.9a1 1 0 01.337 1.477l-1.277 1.732.399 2.115a1 1 0 01-.945 1.185l-2.15.082-1.406 1.63z",stroke:"#50BF16",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},fe=a(12),me=a(4);function ge(){var e=Object(n.l)(["\n&, && { \n    background-color: white;\n    color: ",";\n    border: 1px solid ",";\n    margin-left: ",";\n\n    &:hover {\n        background: @colors-grey-g3;\n        color: white;\n    }\n }\n"]);return ge=function(){return e},e}function ve(){var e=Object(n.l)(["\n&, && { \n    background-color: ",";\n    color: white;\n    white-space: break-spaces;\n\n    &:hover {\n        background: #54cd14;\n    }\n }\n"]);return ve=function(){return e},e}function be(){var e=Object(n.l)(["\n&, && { \n    border-radius: 2px;\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    text-align: center;\n    padding: ",";\n    font-weight: ",";\n }\n"]);return be=function(){return e},e}var pe=Object(me.default)(M.a)(be(),fe.i.weights.medium,fe.i.sizes.m,fe.i.lineHeights.base,fe.m.xxs,fe.i.weights.medium),he=Object(me.default)(pe)(ve(),fe.b.p.green),_e=Object(me.default)(pe)(ge(),fe.b.grey.g1,fe.b.grey.g3,fe.m.xxs),je=function(e){var t=e.downloadURL,a=e.onClick,s=Object(i.useState)(!1),o=Object(n.k)(s,2),l=o[0],c=o[1];return r.a.createElement(he,{onClick:function(){a(),c(!0)},disabled:l,href:t,target:"_blank"},r.a.createElement(B.a,{defaultMessage:"Get certificate",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Get certificate","description":""}'}))};function ye(){var e=Object(n.l)(["\n    mutation IssueAchievementCertificate($subjectAlias: String!) {\n        issueAchievementCertificate(subjectAlias: $subjectAlias) {\n            downloadUrl\n        }\n    }\n"]);return ye=function(){return e},e}var we=l()(ye()),Oe=function(e){var t=e.completedHours,a=e.currentLevel,s=e.subject,o=e.toggleModal,l=Object(i.useState)(!0),u=Object(n.k)(l,2),d=u[0],f=u[1],m=Object(i.useState)(""),g=Object(n.k)(m,2),v=g[0],b=g[1],p=function(e){var t=e.eventName,a=Object(c.c)(ce,{variables:{eventName:t}});return Object(n.k)(a,1)[0]}({eventName:"".concat("exp_eng_cert_achievement","-").concat(null==s?void 0:s.alias,"-").concat(a)}),h=Object(c.c)(we,{variables:{subjectAlias:(null==s?void 0:s.alias)||""}}),_=Object(n.k)(h,1)[0];Object(i.useEffect)((function(){_&&_().then((function(e){var t,a,n=null===(a=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.issueAchievementCertificate)||void 0===a?void 0:a.downloadUrl;n&&b(n)}))}),[_]);Object(i.useEffect)((function(){d&&Object(oe.b)({event_name:"notification_popup_viewed",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==s?void 0:s.alias,hours_subject:t})})}),[d,null==s?void 0:s.alias,t]);var j=Object(ue.capitalize)((null==s?void 0:s.translatedName)||"");return d?r.a.createElement(k.a,null,{header:r.a.createElement(B.a,{defaultMessage:"Congrats! You earned a new {subject} certificate",values:Object(n.h)({},R.formattedMessageAbTestValues,{},{subject:j}),id:'{"defaultMessage":"Congrats! You earned a new {subject} certificate","description":""}'}),message:r.a.createElement(B.a,{defaultMessage:"Download your {hours} hour certificate now and celebrate your progress",values:Object(n.h)({},R.formattedMessageAbTestValues,{},{hours:a}),id:'{"defaultMessage":"Download your {hours} hour certificate now and celebrate your progress","description":""}'}),icon:r.a.createElement(de,null),primaryAction:r.a.createElement(je,{onClick:function(){Object(oe.b)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==s?void 0:s.alias,hours_subject:t,button:"DOWNLOAD_CERTIFICATE",auto_opened:!0})}),p(),f(!1),o(!1)},downloadURL:v}),secondaryAction:r.a.createElement(_e,{onClick:function(){Object(oe.b)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"certificate_achieved",subject:null==s?void 0:s.alias,hours_subject:t,button:"DISMISS",auto_opened:!0})}),p(),f(!1),o(!1)}},r.a.createElement(B.a,{defaultMessage:"Dismiss",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},Ee=a(6),Me=a(124),ke=a(139),Ae=a(234),xe=a(694),Te=a(214),Ce=a(603),Ie=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("rect",{width:"40",height:"40",rx:"20",fill:"#E4EBFD"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 14v-1a1 1 0 011-1h4a1 1 0 011 1v1h-6zm10 0h-2v-1a3 3 0 00-3-3h-4a3 3 0 00-3 3v1h-2a2 2 0 00-2 2v3c0 1.014.378 1.94 1 2.646V25a4 4 0 004 4h8a4 4 0 004-4v-3.354c.622-.705 1-1.632 1-2.646v-3a2 2 0 00-2-2zm-1 8.874A4.01 4.01 0 0125 23h-2a1 1 0 01-1 1h-4a1 1 0 01-1-1h-2a4.01 4.01 0 01-1-.126V25a2 2 0 002 2h8a2 2 0 002-2v-2.126zM13 16h14v3a2 2 0 01-2 2H15a2 2 0 01-2-2v-3z",fill:"#3858C2"}))};Object(I.a)(".styles_closeButton__2ttpp {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  outline: inherit;\n}\n");var Ne={closeButton:"styles_closeButton__2ttpp"};function Be(){var e=Object(n.l)(["\n    query ShouldAskForHW {\n        homework {\n            askForHomework\n        }\n    }\n"]);return Be=function(){return e},e}var Re=l()(Be()),Se=Object(Ee.f)({btn:{id:'{"defaultMessage":"Close","description":""}',defaultMessage:"Close"}}),Ve=function(){var e,t,a,n,r,s,o,l=Object(c.d)(K.d,{variables:{amongAllLessons:!0}}),u=l.data,d=l.error;Object(i.useEffect)((function(){d&&A.a.withScope((function(e){e.setTag("Notifications","HomeworkRequestReminder"),e.setLevel(ae.a.Critical),A.a.captureException(d)}))}),[d]);var f=null===(e=null==u?void 0:u.currentUser)||void 0===e?void 0:e.lastLesson,m=null===(a=null===(t=null==f?void 0:f.tutoring.tutor)||void 0===t?void 0:t.user)||void 0===a?void 0:a.id,g=null===(n=null==u?void 0:u.currentUser)||void 0===n?void 0:n.nearestLesson,v=null===(o=null===(s=null===(r=null==g?void 0:g.tutoring)||void 0===r?void 0:r.tutor)||void 0===s?void 0:s.user)||void 0===o?void 0:o.id;return{tutorId:m||v,lessonId:(null==f?void 0:f.id)||(null==g?void 0:g.id)}},Le=function(e){var t=e.language,a=Object(Me.a)(),i=Ve(),s=i.tutorId,o=i.lessonId,l=Object(Ce.b)("".concat("homework_request_reminder","_").concat(o),!o),c="/".concat(t,"/messages/").concat(s);return r.a.createElement(k.a,null,{header:r.a.createElement(ke.a,{justifyContent:"space-between"},r.a.createElement("div",null,r.a.createElement(B.a,{id:"navigation.homeworkRequestReminder.notification.preHeader",defaultMessage:"Ask for some homework",values:R.formattedMessageAbTestValues})),r.a.createElement("button",{onClick:function(){return l()},className:Ne.closeButton,"aria-label":a.formatMessage(Se.btn,Object(n.h)({},R.formatMessageAbTestValuesAlwaysAVersion,{},Object(n.h)({},R.formatMessageAbTestValuesAlwaysAVersion,{},Object(n.h)({},R.formatMessageAbTestValuesAlwaysAVersion,{},R.formatMessageAbTestValuesAlwaysAVersion))))},r.a.createElement(Ae.a,{svg:Te.a,size:"2xs","aria-hidden":!0,color:"gray-300"}))),message:r.a.createElement(B.a,{id:"navigation.homeworkRequestReminder.notification.message",defaultMessage:"Want to progress faster? Ask your tutor for some homework",values:R.formattedMessageAbTestValues}),icon:r.a.createElement(Ie,null),primaryAction:r.a.createElement(xe.a,{url:c,opensInNewTab:!0,onClick:function(){l(),Object(oe.b)({event_name:"notification_popup_clicked",json_data:JSON.stringify({notification_name:"homework_reminder",button:"HOMEWORK"})})}},r.a.createElement(B.a,{id:"navigation.homeworkRequestReminder.notification.cta",defaultMessage:"Ask for homework",values:R.formattedMessageAbTestValues}))})},De=a(346),Ue=function(e){var t=e.language,a=e.handleRewindNotificationInteraction,n=e.rewindId;return r.a.createElement(k.a,null,{header:r.a.createElement(B.a,{defaultMessage:"Open Preply Rewind",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Open Preply Rewind","description":""}'}),message:r.a.createElement(B.a,{defaultMessage:"See your language learning progress with Preply Rewind.",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"See your language learning progress with Preply Rewind.","description":""}'}),icon:r.a.createElement(De.a,{"data-qa-group":"bell-notification--icon"}),primaryAction:r.a.createElement(k.b,{primary:!0,href:((new URLSearchParams).append("entrypoint","navigation"),"/".concat(t,"/preply-rewind/").concat(n)),onClick:a},r.a.createElement(B.a,{defaultMessage:"View Rewind",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"View Rewind","description":""}'})),secondaryAction:r.a.createElement(k.b,{onClick:a},r.a.createElement(B.a,{defaultMessage:"Dismiss",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))})};function ze(){var e=Object(n.l)(["\n    query CheckUserHasRewind {\n        checkUserHasRewind {\n            isEligible\n            rewindId\n        }\n    }\n"]);return ze=function(){return e},e}var Pe=l()(ze()),We=a(509),He=a(96),qe=a(663),Ge=a(447),Fe=a(665),Je=function(e){var t=e.language,a=e.handleGroupCoursesInteraction;Object(i.useEffect)((function(){Object(oe.b)({event_name:"gc_entry_point_viewed",json_data:JSON.stringify({source:"notification_bell"})})}),[]);var n,s=Object(i.useCallback)((function(){Object(oe.b)({event_name:"gc_entry_point_clicked",json_data:JSON.stringify({source:"notification_bell"})}),a()}),[a]),o=r.a.createElement(ke.a,{direction:"column"},r.a.createElement(ke.a,{justifyContent:"space-between"},r.a.createElement(He.a,{variant:"xs",color:"gray-400"},r.a.createElement("span",{className:Ge.a.introText},r.a.createElement(B.a,{id:"navigation.crossSellV2Pro.notification.preHeader",defaultMessage:"INTRODUCING",values:R.formattedMessageAbTestValues}))),r.a.createElement("span",{onClick:a},r.a.createElement(Ae.a,{svg:Te.a,color:"gray-300",size:"2xs"}))),r.a.createElement(He.a,{color:"gray-500",variant:"m-bold"},r.a.createElement(ke.a,{alignItems:"center"},r.a.createElement(B.a,{id:"navigation.crossSellV2Pro.notification.header",defaultMessage:"Group classes",values:R.formattedMessageAbTestValues}),r.a.createElement(Fe.a,null,r.a.createElement(B.a,{id:"navigation.crossSellV2Pro.notification.badgeNew",defaultMessage:"NEW",values:R.formattedMessageAbTestValues})))));return r.a.createElement(k.a,null,{header:o,message:r.a.createElement(He.a,{variant:"s",color:"gray-400"},r.a.createElement(B.a,{id:"navigation.crossSellV2Pro.notification.message",defaultMessage:"Learn, speak, and connect in a small group",values:R.formattedMessageAbTestValues})),icon:r.a.createElement("img",{className:Ge.a.logo,src:"https://tutors-content.s3.eu-west-1.amazonaws.com/Group+Lesson+tutor+profiles/GC+General+%E2%80%93+%232+1.png",alt:"announcement"}),primaryAction:r.a.createElement(xe.a,{onClick:s,url:(n=new URLSearchParams,n.append("entrypoint","notification_bell"),"".concat(Object(qe.a)(t),"?").concat(n)),fullWidth:!0},r.a.createElement(B.a,{id:"navigation.crossSellV2Pro.notification.cta",defaultMessage:"Browse classes",values:R.formattedMessageAbTestValues}))})},Ye=a(745);function Ke(){var e=Object(n.l)(["\n    query TopUpHoursNotification {\n        currentUser {\n            id\n            client {\n                id\n                subscriptionType\n                tutorings {\n                    nodes {\n                        id\n                        hours\n                        refill {\n                            id\n                            refillHours\n                            status\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return Ke=function(){return e},e}var $e=l()(Ke()),Qe=function(e){var t=e.showTopUpModal;return r.a.createElement(k.a,null,{header:r.a.createElement(B.a,{defaultMessage:"Keep up your impressive pace!",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Keep up your impressive pace!","description":"notifications.topUp.header"}'}),message:r.a.createElement(B.a,{defaultMessage:"Add extra lesson hours to continue learning before your plan renews.",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Add extra lesson hours to continue learning before your plan renews.","description":"notifications.topUp.message"}'}),primaryAction:r.a.createElement(xe.a,{fullWidth:!0,onClick:t},r.a.createElement(B.a,{defaultMessage:"Add extra hours",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Add extra hours","description":"notifications.topUp.cta"}'}))})},Ze=a(1445);function Xe(){var e=Object(n.l)(["\n&, && { \n    border: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n    overflow: visible;\n    background: transparent;\n    cursor: pointer;\n }\n"]);return Xe=function(){return e},e}var et=me.default.button(Xe()),tt=function(e){var t=e.language,a=e.handleTutorCommunityMessageInteraction;Object(i.useEffect)((function(){Object(g.F)({name:"bell_notif_tutor_community",autoOpened:!1})}),[]);var n,s=r.a.createElement(ke.a,{direction:"column"},r.a.createElement(ke.a,{justifyContent:"space-between"},r.a.createElement(He.a,{variant:"xs-medium",color:"gray-400"},r.a.createElement(B.a,{id:"navigation.tutor_community.message.pre_header.text",defaultMessage:"NOTIFICATIONS",values:R.formattedMessageAbTestValues})),r.a.createElement(et,{onClick:a},r.a.createElement(Ae.a,{svg:Te.a,color:"gray-300",size:"2xs"}))),r.a.createElement(He.a,{color:"gray-500",variant:"m-bold"},r.a.createElement(ke.a,{alignItems:"center",gap:"3xs"},r.a.createElement(B.a,{id:"navigation.tutor_community.message.header.text",defaultMessage:"Tutors community",values:R.formattedMessageAbTestValues}),r.a.createElement(He.a,{color:"green-100",variant:"xs-medium"},r.a.createElement(Ze.a,{size:"xs",color:"green",inverted:!0},r.a.createElement(B.a,{id:"navigation.tutor_community.message.badge.text",defaultMessage:"New",values:R.formattedMessageAbTestValues}))))));return r.a.createElement(k.a,null,{header:s,message:r.a.createElement(He.a,{variant:"s",color:"gray-400"},r.a.createElement(B.a,{id:"navigation.tutor_community.message.description.text",defaultMessage:"You've got new notifications from the tutor community",values:R.formattedMessageAbTestValues})),primaryAction:r.a.createElement(xe.a,{onClick:function(){Object(g.E)({name:"bell_notif_tutor_community",buttonName:"VIEW",autoOpened:!1})},url:(n=new URLSearchParams,n.append("redirect_to","/notifications"),"/".concat(t,"/community?").concat(n)),fullWidth:!0},r.a.createElement(B.a,{id:"navigation.tutor_community.message.cta.text",defaultMessage:"View notifications",values:R.formattedMessageAbTestValues}))})},at=a(194),nt="exp_b2c2b_extra_materials_incentive",it=function(e){return"".concat(nt,"_").concat(e,"_clicked")};Object(I.a)(".styles_primaryButton__3aLJf {\n  margin-right: 8px;\n}\n.styles_iconBackground__Rw7cm {\n  background: #DEF0D0;\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n");var rt={primaryButton:"styles_primaryButton__3aLJf",iconBackground:"styles_iconBackground__Rw7cm"},st=function(e){var t=e.subjectAlias,a=e.language,s=e.onClose,o=e.viewed,l=it(t),u=Object(i.useState)(!0),d=Object(n.k)(u,2),f=d[0],m=d[1],v="/".concat(a,"/lessons#/b2c2b/").concat(nt,"/?b2c2bSourceUrl=").concat(window.location.pathname),b=Object(c.c)(K.c),p=Object(n.k)(b,1)[0],h=function(e){Object(g.E)({subject:t,buttonName:e,autoOpened:!0,name:"b2c2bExtraMaterialsIncentive"}),m(!1),p({variables:{eventName:l}})};return Object(i.useEffect)((function(){Object(g.F)({subject:t,autoOpened:!0,name:"b2c2bExtraMaterialsIncentive"}),o()}),[l,t,o]),f?r.a.createElement(k.a,null,{header:r.a.createElement(He.a,{color:"gray-500",variant:"m-bold"},r.a.createElement(B.a,{defaultMessage:"Get learning materials for your profession",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.header",values:R.formattedMessageAbTestValues})),message:r.a.createElement(He.a,{variant:"s"},r.a.createElement(B.a,{defaultMessage:"Share your corporate email and job function to claim your job-specific materials",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.message",values:R.formattedMessageAbTestValues})),icon:r.a.createElement("div",{className:rt.iconBackground,"data-qa-id":"bell-notification--icon"},r.a.createElement(Ae.a,{svg:at.a,color:"green-400"})),primaryAction:r.a.createElement("div",{className:rt.primaryButton},r.a.createElement(xe.a,{fullWidth:!0,"data-qa-id":"bell-notification-b2c2bExtraMaterialsIncentive-primaryAction",onClick:function(){h("CLAIM"),window.open(v)}},r.a.createElement(B.a,{defaultMessage:"Claim materials",id:"navigation.bell.notification.b2c2bExtraMaterialsIncentive.primaryAction-btn",values:R.formattedMessageAbTestValues}))),secondaryAction:r.a.createElement(xe.a,{variant:"secondary",fullWidth:!0,size:{_:"s","narrow-l":"s"},onClick:function(){h("DISMISS"),s()},"data-qa-id":"bell-notification-b2c2bExtraMaterialsIncentive-dismiss-btn"},r.a.createElement(B.a,{defaultMessage:"Dismiss",values:R.formattedMessageAbTestValues,id:'{"defaultMessage":"Dismiss","description":""}'}))}):null},ot=[ee.c.WorkingProfessional,ee.c.Conversationalist,ee.c.Relocator],lt=function(e,t,a,r){var s,o,l=e||t||!("english"===r)||a,u=(o=r||"","".concat(nt,"_").concat(o,"_viewed")),d=Object(c.d)(K.e,{variables:{eventName:u},fetchPolicy:"no-cache",skip:l}),f=d.data,m=d.loading,g=Object(c.c)(K.c),v=Object(n.k)(g,1)[0],b=null===(s=null==f?void 0:f.gamificationEvent)||void 0===s?void 0:s.occurred,p=Object(i.useCallback)((function(){l||b||v({variables:{eventName:u}})}),[v,u,l,b]);return[b,m,p]};function ct(){var e=Object(n.l)(["\n    query bellNotifications($onlyUnread: Boolean!, $limit: Int) {\n        notifications(onlyUnread: $onlyUnread, limit: $limit) {\n            id\n        }\n    }\n"]);return ct=function(){return e},e}var ut=l()(ct());function dt(){var e=Object(n.l)(["\n    query Notifications {\n        currentUser {\n            id\n            client {\n                id\n                isEnterprise\n                unconfirmedLessons {\n                    nodes {\n                        id\n                        status\n                        datetime\n                        hasIssue\n                        autoConfirmation\n                        rating {\n                            id\n                        }\n                        tutor {\n                            id\n                            fullName\n                            user {\n                                id\n                                profile {\n                                    id\n                                    avatarUrl\n                                }\n                            }\n                        }\n                    }\n                }\n                lastConfirmedLesson {\n                    id\n                    tutoring {\n                        id\n                        lead {\n                            id\n                            isGroupLessons\n                            subject {\n                                id\n                                alias\n                            }\n                        }\n                    }\n                }\n                passedHours\n            }\n            tutor {\n                id\n            }\n        }\n    }\n"]);return dt=function(){return e},e}a.d(t,"NotificationIconWrap",(function(){return mt})),a.d(t,"Notifications",(function(){return gt}));var ft=l()(dt()),mt=function(e){var t=e.className,a=e.children,i=e.popupVisible,o=Object(s.b)(e,["className","children","popupVisible"]);return r.a.createElement("div",Object(n.e)({},o,{className:d()(t,O.a.notificationIconWrap,Object(n.d)({},O.a.notificationIconWrapVisible,i))}),a)},gt=r.a.forwardRef((function(e,t){var a,s,o,l,u,b,y,O,M,k,x,T,C,I,N,B,R,S=e.language,V=e.timezone,L=e.isTutorNotificationBellActive,D=Object(c.d)(ft,{skip:"undefined"==typeof window,fetchPolicy:"no-cache"}),U=D.loading,P=D.data,q=p()(P,"currentUser.client.passedHours"),G=p()(P,"currentUser.client.isEnterprise"),J=Boolean(p()(P,"currentUser.tutor.id")),Y=Boolean(p()(P,"currentUser.client.id")),$=function(e){var t,a,r=Object(c.d)(W,{fetchPolicy:"cache-first"}).data,s=new URLSearchParams(location.search),o=s.has("referralMessageIndex"),l=o?parseInt(s.get("referralMessageIndex")||"0",10):0,u=(null===(t=null==r?void 0:r.referralBellStatus)||void 0===t?void 0:t.showReferralBellNotification)||o,d=e>=2||o,f=Object(i.useState)(o),m=Object(n.k)(f,2),g=m[0],v=m[1],b=Object(i.useState)(o),p=Object(n.k)(b,2),h=p[0],_=p[1],j=Object(i.useState)(l),y=Object(n.k)(j,2),w=y[0],O=y[1],E=null===(a=null==r?void 0:r.referralBellStatus)||void 0===a?void 0:a.referralMessageIndex;Object(i.useEffect)((function(){d&&(_(u),v(u),O(E))}),[d,u,E]);return{onActionClick:function(){v(!1),_(!1)},openByDefault:h,referralMessageIndex:w,showMessage:g}}(q),Z=Object(i.useState)($.openByDefault),re=Object(n.k)(Z,2),oe=re[0],le=re[1],ce=window.location.pathname.includes("lessons"),ue=window.location.pathname.includes("/stand-with-ukraine"),de=window.location.pathname.includes("/home"),fe=ce||ue||de,me=function(e){var t,a=Ve().lessonId,i=Object(Ce.a)("".concat("homework_request_reminder","_").concat(a),!!(null==e?void 0:e.skip)||!a),r=i.isActive,s=i.loading,o=!!(null==e?void 0:e.skip)||!!r||s||!a,l=Object(c.d)(Re,{skip:o}),u=l.data,d=l.loading,f=null===(t=null==u?void 0:u.homework)||void 0===t?void 0:t.askForHomework,m=Object(te.a)("exp_comms_request_homework_notification_ML",{skip:o||!f}),g=Object(n.k)(m,2),v=g[0],b=g[1];return o?{isActive:!1,isLoading:!1}:{isActive:v,isLoading:b||d||s}}({skip:!Y}).isActive,ge=function(e){var t,a=Object(i.useState)(""),r=Object(n.k)(a,2),s=r[0],o=r[1],l=Object(i.useState)(""),u=Object(n.k)(l,2),d=u[0],f=u[1],m=Object(i.useState)(0),g=Object(n.k)(m,2),v=g[0],b=g[1],p=Object(i.useState)(0),h=Object(n.k)(p,2),_=h[0],j=h[1],y=Object(te.b)("exp_eng_achievements_mvp"),w=Object(n.k)(y,2),O=w[0],E=w[1],M=E.isActive,k=E.status,x=Object(c.d)(K.d,{variables:{amongAllLessons:!0}}),T=x.data,C=x.loading,I=x.error,N=Object(c.d)(K.e,{variables:{eventName:Q(s)},skip:!s,fetchPolicy:"no-cache"}),B=N.data,R=N.loading,S=N.error,V=Object(c.d)(K.b,{variables:{subjectAlias:s},fetchPolicy:"no-cache"}),L=V.data,D=V.loading,U=V.error,z=window.matchMedia("only screen and (max-width: 760px)").matches,P=Object(c.c)(K.f),W=Object(n.k)(P,1)[0],H=!z&&"A1"===d&&!D,q=H&&!e,G=H&&e,F=Object(te.c)("enable_achievements_for_b2b",{skip:e}),J=F.flagValue,Y=F.loading;Object(i.useEffect)((function(){(I||U||S)&&A.a.withScope((function(e){e.setTag("Notifications","useCompetenciesMessage"),e.setLevel(ae.a.Critical),A.a.captureException("".concat(I,",").concat(U,", ").concat(S))}))}),[I,U,S]),Object(i.useEffect)((function(){q&&O()}),[q,O]),Object(i.useEffect)((function(){q&&M&&W({variables:{data:{subjectAlias:s,initialTutorId:v}}})}),[v,M,W,s,q]),Object(i.useEffect)((function(){G&&J&&!Y&&W({variables:{data:{subjectAlias:s,initialTutorId:v}}})}),[G,J,Y,W,s,v]),Object(i.useEffect)((function(){var e,t,a,n,i,r,l,c,u,d,f,m,g,v,p,h,_,y,w,O,E,M,k,A;if(!s&&!C&&!z){var x=ie(null===(n=null===(a=null===(t=null===(e=null==T?void 0:T.currentUser)||void 0===e?void 0:e.nearestLesson)||void 0===t?void 0:t.tutoring)||void 0===a?void 0:a.lead)||void 0===n?void 0:n.subject),I=null===(c=null===(l=null===(r=null===(i=null==T?void 0:T.currentUser)||void 0===i?void 0:i.nearestLesson)||void 0===r?void 0:r.tutoring)||void 0===l?void 0:l.tutor)||void 0===c?void 0:c.id,N=null===(f=null===(d=null===(u=null==T?void 0:T.currentUser)||void 0===u?void 0:u.nearestLesson)||void 0===d?void 0:d.tutoring)||void 0===f?void 0:f.id;!x&&(null===(m=null==T?void 0:T.currentUser)||void 0===m?void 0:m.lastLesson)&&Math.abs(Object(ne.g)(null===(g=null==T?void 0:T.currentUser)||void 0===g?void 0:g.lastLesson.datetime))<1296e6&&(x=ie(null===(_=null===(h=null===(p=null===(v=null==T?void 0:T.currentUser)||void 0===v?void 0:v.lastLesson)||void 0===p?void 0:p.tutoring)||void 0===h?void 0:h.lead)||void 0===_?void 0:_.subject),I=null===(E=null===(O=null===(w=null===(y=null==T?void 0:T.currentUser)||void 0===y?void 0:y.lastLesson)||void 0===w?void 0:w.tutoring)||void 0===O?void 0:O.tutor)||void 0===E?void 0:E.id,N=null===(A=null===(k=null===(M=null==T?void 0:T.currentUser)||void 0===M?void 0:M.lastLesson)||void 0===k?void 0:k.tutoring)||void 0===A?void 0:A.id),x&&I&&N&&(o(x),b(I),j(N))}}),[s,T,C,z]),Object(i.useEffect)((function(){s&&!D&&f((null==L?void 0:L.goalCurrentLevel)||"")}),[s,D,L]);var $=!(null===(t=null==B?void 0:B.gamificationEvent)||void 0===t?void 0:t.occurred);return{subjectAlias:s,tutoringId:_,isActive:M&&!$,loading:(C||D||R)&&"READY"!==k}}(G),ve=ge.subjectAlias,be=ge.tutoringId,pe=ge.isActive,he=function(){var e=Object(i.useState)(!1),t=Object(n.k)(e,2),a=t[0],r=t[1],s=Object(i.useState)(null),o=Object(n.k)(s,2),l=o[0],u=o[1],d=Object(te.b)("exp_hackathon_preply_rewind"),f=Object(n.k)(d,1)[0],m=Object(c.d)(Pe),g=m.data,v=m.loading;Object(i.useEffect)((function(){!localStorage.getItem("preply_rewind_announcement_last_shown_at")&&!v&&g&&g.checkUserHasRewind.isEligible&&(u(g.checkUserHasRewind.rewindId),f().then((function(e){return r(e)})))}),[f,g,v]);return{rewindId:l,handleRewindNotificationInteraction:function(){r(!1),localStorage.setItem("preply_rewind_announcement_last_shown_at",String(Date.now()))},isRewindNotificationActive:a}}(),_e=he.rewindId,je=he.isRewindNotificationActive,ye=he.handleRewindNotificationInteraction,we=function(){var e=Object(c.d)(se),t=e.data,a=e.loading,r=e.error,s=Object(te.b)("exp_eng_certificate_achieved_bell_notif"),o=Object(n.k)(s,1)[0],l=Object(te.c)("exp_eng_certificate_achieved_bell_notif"),u=l.loading,d=l.flagValue,f=Object(i.useState)([]),m=Object(n.k)(f,2),g=m[0],v=m[1];return Object(i.useEffect)((function(){r&&A.a.withScope((function(e){e.setTag("Notifications","useCertificateAchievementQuery"),e.setLevel(ae.a.Critical),A.a.captureException(r)}))}),[r]),Object(i.useEffect)((function(){t&&!a&&o()}),[t,a,o]),Object(i.useEffect)((function(){var e;d&&t&&(null===(e=t.allAchievementCertificates)||void 0===e?void 0:e.length)?v(t.allAchievementCertificates):v([])}),[d,t]),{isActive:!!d,achievements:g,loading:u||a}}(),Ee=we.isActive,Me=we.achievements,ke=function(e,t,a){var r=Object(i.useState)(!1),s=Object(n.k)(r,2),o=s[0],l=s[1],c=Object(We.a)({isAuthenticated:e,isEnterprise:t,isTutor:a}),u=c.showGroupClassesEP,d=c.hasGroupClassPayment;Object(i.useEffect)((function(){localStorage.getItem("gc_cross_sell_notification_last_shown_at")||l(u&&!d)}),[u,d]);return{handleGroupCoursesInteraction:function(){localStorage.setItem("gc_cross_sell_notification_last_shown_at",String(Date.now())),l(!1)},isCoursesCrossSellNotificationActive:o}}(Boolean(null==P?void 0:P.currentUser),Boolean(null===(s=null===(a=null==P?void 0:P.currentUser)||void 0===a?void 0:a.client)||void 0===s?void 0:s.isEnterprise),J),Ae=ke.isCoursesCrossSellNotificationActive,xe=ke.handleGroupCoursesInteraction,Te=null===(O=null===(y=null===(b=null===(u=null===(l=null===(o=null==P?void 0:P.currentUser)||void 0===o?void 0:o.client)||void 0===l?void 0:l.lastConfirmedLesson)||void 0===u?void 0:u.tutoring)||void 0===b?void 0:b.lead)||void 0===y?void 0:y.subject)||void 0===O?void 0:O.alias,Ie=(null===(C=null===(T=null===(x=null===(k=null===(M=null==P?void 0:P.currentUser)||void 0===M?void 0:M.client)||void 0===k?void 0:k.lastConfirmedLesson)||void 0===x?void 0:x.tutoring)||void 0===T?void 0:T.lead)||void 0===C?void 0:C.isGroupLessons)||!1,Ne=function(e,t,a,r,s){var o,l,u,d,f,m="english"===s,g=Object(c.d)(K.a,{skip:t||a||!m}),v=g.data,b=g.loading,p=Object(c.d)(K.e,{variables:{eventName:it(s||"")},fetchPolicy:"no-cache",skip:t||a||!m||r}),h=p.data,_=p.loading,j=Object(te.b)(nt),y=Object(n.k)(j,1)[0],w=Object(te.c)(nt,{skip:t||!m||a||r}),O=w.loading,E=w.flagValue,M=b||O||_,k=!(null===(l=null===(o=null==v?void 0:v.currentUser)||void 0===o?void 0:o.client)||void 0===l?void 0:l.persona)||ot.includes(null===(d=null===(u=null==v?void 0:v.currentUser)||void 0===u?void 0:u.client)||void 0===d?void 0:d.persona),A=!M&&m&&!t&&!r&&!a&&!!(null==v?void 0:v.showFormB2C2B)&&e>=5&&!(null===(f=null==h?void 0:h.gamificationEvent)||void 0===f?void 0:f.occurred)&&k;return[A&&E,M,Object(i.useCallback)((function(){A&&y()}),[y,A])]}((null===(N=null===(I=null==P?void 0:P.currentUser)||void 0===I?void 0:I.client)||void 0===N?void 0:N.passedHours)||0,G,J,Ie,Te),Be=Object(n.k)(Ne,3),Se=Be[0],De=Be[1],ze=Be[2],He=lt(G,J,Ie,Te),qe=Object(n.k)(He,3),Ge=qe[0],Fe=qe[1],Ke=qe[2],Ze=Object(h.a)({skip:!J||!L}),Xe=Ze.tutorCommunityNotificationCount,et=Ze.isTutorCommunityMessageViewed,at=Ze.handleTutorCommunityMessageInteraction,rt=Ze.isTutorCommunityMessageLoading,ct=function(){var e=Object(i.useContext)(Ye.a).subscriptions,t=null==e?void 0:e.TopUpModal,a=Object(i.useState)(!1),r=Object(n.k)(a,2),s=r[0],o=r[1],l=Object(i.useState)(null),u=Object(n.k)(l,2),d=u[0],f=u[1],m=Object(i.useState)(!1),g=Object(n.k)(m,2),v=g[0],b=g[1],p=Object(c.d)($e).data;return Object(i.useEffect)((function(){var e,t,a,n,i;if(p&&(null===(t=null===(e=null==p?void 0:p.currentUser)||void 0===e?void 0:e.client)||void 0===t?void 0:t.subscriptionType)===ee.f.SubscribeToTutor){var r=((null===(i=null===(n=null===(a=null==p?void 0:p.currentUser)||void 0===a?void 0:a.client)||void 0===n?void 0:n.tutorings)||void 0===i?void 0:i.nodes)||[]).find((function(e){return e.refill&&e.refill.status===ee.d.Configured&&e.hours/e.refill.refillHours*100<=25})),s=localStorage.getItem("top_up_hours_notification_last_shown_at"),o=!1;if(s)o=Math.round((new Date).getTime()-new Date(Number(s)).getTime())/864e5<20;r&&!o&&(localStorage.setItem("top_up_hours_notification_last_shown_at",String(Date.now())),f(r.id),b(!0))}}),[p]),{isTopUpHoursNotificationActive:v,topUpTutoringId:d,TopUpModal:t,showTopUpModal:s,setShowTopUpModal:o}}(),dt=ct.showTopUpModal,gt=ct.setShowTopUpModal,vt=ct.topUpTutoringId,bt=ct.TopUpModal,pt=ct.isTopUpHoursNotificationActive,ht=Ee&&Me.length>0,_t=Object(f.a)("exp_cro_crm_notification_centre_integration",void 0,!Y),jt=_t.isActive,yt=_t.isLoading,wt=function(e){var t,a=Object(c.d)(ut,{variables:{onlyUnread:!0},skip:e}).data;return{unreadNotificationsCount:null===(t=null==a?void 0:a.notifications)||void 0===t?void 0:t.length}}(!jt).unreadNotificationsCount;Object(i.useEffect)((function(){fe||le($.openByDefault||pe||Ae||je||pt||ht),ce&&Se&&!Ge&&le(!0)}),[fe,$.openByDefault,ht,pe,je,Ae,pt,ce,Se,Ge]),Object(i.useEffect)((function(){ze()}),[ze]);var Ot=Me.map((function(e){var t;return r.a.createElement(Oe,Object(n.e)({key:"".concat(null===(t=null==e?void 0:e.subject)||void 0===t?void 0:t.alias,"-").concat(e.currentLevel)},Object.assign(Object.assign({},e),{toggleModal:function(){le(!1)}})))})).filter(Boolean),Et=function(e){e?Object(g.G)("open"):Object(g.G)("close"),le(e)},Mt=function(){if(jt){var e=new CustomEvent("preply/toggle-notification-centre",{cancelable:!0,bubbles:!0});window.dispatchEvent(e)}else Et(!oe)},kt=!U&&P&&(null===(R=null===(B=P.currentUser)||void 0===B?void 0:B.client)||void 0===R?void 0:R.unconfirmedLessons.nodes)?w()(P.currentUser.client.unconfirmedLessons.nodes.filter((function(e){return"SCHEDULED_PAST"===e.status&&!e.hasIssue&&!e.autoConfirmation&&!e.rating}))):[],At=function(e){var t=Object(i.useState)(),a=Object(n.k)(t,2),r=a[0],s=a[1];Object(i.useEffect)((function(){var t=H.read();null!==t&&"CREATED"===t.status&&(s(t),e.openPopup());var a=localStorage.getItem("nav_kids_search_notification");if(a){var n={status:a,kidTagAliases:[],subjectAlias:"english",subjectsAknowledged:[]};s(n),e.openPopup(),H.store(n),H.remove("nav_kids_search_notification"),Object(g.z)("persistence_migrate")}}),[]);return{notificationState:r,createNotification:function(t){var a=H.read();if(null===a||a.subjectAlias!==t.subjectAlias&&!a.subjectsAknowledged.includes(t.subjectAlias)){var n={status:"CREATED",kidTagAliases:t.kidTagAliases,subjectAlias:t.subjectAlias,subjectsAknowledged:a?a.subjectsAknowledged:[]};s(n),H.store(n),e.openPopup()}else if("CREATED"===a.status){if(a.subjectAlias!==t.subjectAlias){var i=Object.assign(Object.assign({},a),{kidTagAliases:t.kidTagAliases,subjectAlias:t.subjectAlias});s(i),H.store(i)}e.openPopup()}},onActionClick:function(){var e=Object.assign(Object.assign({},r),{status:"ACKNOWLEDGED_SHOW_SURVEY",subjectsAknowledged:[].concat(Object(n.m)(r.subjectsAknowledged),[r.subjectAlias])});s(e),H.store(e)}}}({openPopup:function(){return Et(!0)}}),xt=At.notificationState&&"CREATED"===At.notificationState.status,Tt=$.showMessage?1:0,Ct=jt?wt:kt.length+Tt+(xt?1:0)+(me?1:0)+(Se?1:0)+(fe&&pe?1:0)+(fe&&Ae?1:0)+(fe&&je?1:0)+(fe&&pt?1:0)+(fe&&ht?1:0);Object(i.useEffect)((function(){Y&&Object(v.a)("exp_cro_crm_notification_centre_integration")}),[Y]);var It=J?!et&&Xe?1:0:Ct;Object(i.useImperativeHandle)(t,(function(){return{createKidsSearchNotification:At.createNotification}}),[At.createNotification]);var Nt=oe&&!jt&&!yt;return U||rt||De||Fe?null:r.a.createElement("div",{className:d()(j.a.iconItem,"".concat("ignore-onclickoutside-notification"," ").concat(Nt?"active":""))},r.a.createElement(mt,{onClick:Mt,popupVisible:Nt,"data-qa-id":"header-notification-icon"},r.a.createElement("div",{className:j.a.bellIcon},r.a.createElement(m.a,{onClick:function(){oe?Object(g.q)(_.a.BellIcon,"close"):Object(g.q)(_.a.BellIcon,"open"),Object(g.D)({eventName:oe?"closed":"opened",numberNotificationsTypes:It})}})),It?r.a.createElement("div",{className:j.a.unreadCount,"data-qa-id":"header-unread-notification-icon"},It):""),Boolean(Nt)&&r.a.createElement(E.a,Object(n.e)({lessons:kt,language:S,timezone:V,outsideClickIgnoreClass:"ignore-onclickoutside-notification"},{passedHours:q,onAction:Mt,handleClickOutside:Mt,isTutorNotificationBellActive:L,customSystemMessage:J?[!et&&Xe?r.a.createElement(tt,{key:"tutor-community-message",language:S,handleTutorCommunityMessageInteraction:at}):null]:[$.showMessage?r.a.createElement(z,{language:S,key:"referral",onActionClick:$.onActionClick,referralMessageIndex:$.referralMessageIndex}):null,xt&&At.notificationState?r.a.createElement(F,{key:"kids-search",language:S,subjectAlias:At.notificationState.subjectAlias,kidTagAliases:At.notificationState.kidTagAliases,onActionClick:At.onActionClick}):null,pe?r.a.createElement(X,{key:"competencies-message",tutoringId:be,subjectAlias:ve,onClose:Mt}):null,Ae?r.a.createElement(Je,{key:"group-courses-announcement",language:S,handleGroupCoursesInteraction:xe}):null,je?r.a.createElement(Ue,{key:"preply-rewind-announcement",language:S,handleRewindNotificationInteraction:ye,rewindId:_e}):null,Se&&Te?r.a.createElement(st,{subjectAlias:Te,onClose:Mt,viewed:Ke,language:S}):null,pt?r.a.createElement(Qe,{key:"top-up-hours-notification",showTopUpModal:function(){return gt(!0)}}):null,me?r.a.createElement(Le,{language:S}):null].concat(Ee&&Me.length?Ot:null)})),Boolean(dt)&&r.a.createElement(bt,{show:!0,entryPoint:"notification",tutorId:Number(vt),initialStep:"HOURS_SELECTOR",onClose:function(){return gt(!1)}}))}))},2025:function(e,t,a){"use strict";var n=a(8),i=a(0),r=a.n(i),s=a(245),o=a(34),l=a.n(o),c=a(438),u=a(909),d=a(46);Object(d.a)(".styles_notificationItemBlock__1Uc7A {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 100%;\n  padding: 16px;\n  background-color: #fff;\n  text-align: center;\n  z-index: 1;\n  pointer-events: all;\n  border-bottom: 1px solid #e3e5e6;\n}\n.styles_loader__1fCyt {\n  height: 100px;\n}\n.styles_itemContent__bjigp {\n  flex: 1 1 100%;\n  position: relative;\n  text-align: left;\n  line-height: 1.42857143;\n  white-space: pre-wrap;\n  display: flex;\n}\n.styles_itemText__sczB6 {\n  flex: 1 1 100%;\n}\n.styles_itemText__sczB6.styles_itemText__sczB6.styles_itemText__sczB6 {\n  color: #384047;\n}\n.styles_itemHeader__2myoz.styles_itemHeader__2myoz.styles_itemHeader__2myoz {\n  font-weight: 500;\n  padding-bottom: 8px;\n  color: #384047;\n}\n.styles_itemIconWrap__BO4sW {\n  position: relative;\n  float: left;\n  width: 40px;\n  height: 40px;\n  margin-right: 16px;\n  overflow: hidden;\n  flex: 0 0 auto;\n}\n.styles_itemActions__3pZz4 {\n  flex: 1 1 100%;\n  position: relative;\n  display: flex;\n  margin-top: 16px;\n  white-space: nowrap;\n}\n.styles_itemActions__3pZz4 > * {\n  flex: 1 1;\n}\n.styles_itemButton__ajk0x {\n  margin-left: 8px;\n}\n.styles_itemButtonPrimary__B7dRT {\n  margin-left: 0;\n}\n.styles_itemButtonPrimary__B7dRT:hover {\n  color: #fff;\n}\n");var f={notificationItemBlock:"styles_notificationItemBlock__1Uc7A",loader:"styles_loader__1fCyt",itemContent:"styles_itemContent__bjigp",itemText:"styles_itemText__sczB6",itemHeader:"styles_itemHeader__2myoz",itemIconWrap:"styles_itemIconWrap__BO4sW",itemActions:"styles_itemActions__3pZz4",itemButton:"styles_itemButton__ajk0x",itemButtonPrimary:"styles_itemButtonPrimary__B7dRT"};a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return v}));var m=function(e){var t=e.children,a=e.loading;return r.a.createElement("div",{className:f.notificationItemBlock},a?r.a.createElement(c.a,{className:f.loader}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:f.itemContent},t.icon&&r.a.createElement("div",{className:f.itemIconWrap},t.icon),r.a.createElement("div",{className:f.itemText},t.header&&r.a.createElement("div",{className:f.itemHeader},t.header),t.message)),r.a.createElement("div",{className:f.itemActions},t.primaryAction||null,t.secondaryAction||null)))},g=function(e){var t=e.className,a=e.href,i=e.variant,o=e.children,c=e.primary,d=Object(s.b)(e,["className","href","variant","children","primary"]);return r.a.createElement(u.a,Object(n.e)({},d,{variant:i,href:a,className:l()(t,f.itemButton,Object(n.d)({},f.itemButtonPrimary,c))}),o)},v=function(e){return r.a.createElement(g,Object(n.e)({variant:e.primary?void 0:"outlined"},e))}},2380:function(e,t,a){"use strict";var n=a(46);Object(n.a)(".styles_notificationPopupWrapper__zI0w5 {\n  position: absolute;\n  display: flex;\n  top: 40px;\n  right: -52px;\n  min-height: 40px;\n  max-height: 80vh;\n  z-index: 10001;\n  flex-direction: column;\n  filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.3));\n  transform: translate3d(0, 0, 0);\n}\n.styles_notificationPopupWrapper__zI0w5:before {\n  position: absolute;\n  display: block;\n  content: '';\n  right: 50px;\n  bottom: 100%;\n  border: 8px solid transparent;\n  border-left-width: 12px;\n  border-right-width: 12px;\n  border-bottom-color: #fff;\n  filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.3));\n  z-index: -1;\n}\n.styles_notificationsList__1t7Ca {\n  flex-direction: column;\n  overflow-y: auto;\n  min-width: 266px;\n  border-radius: 8px;\n}\n@media screen and (max-width: 640px) {\n  .styles_notificationsList__1t7Ca {\n    margin-right: 16px;\n  }\n}\n.styles_emptyListMessage__299iG {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 100%;\n  gap: 8px;\n  padding: 16px;\n  background-color: #fff;\n  text-align: center;\n  z-index: 1;\n  pointer-events: all;\n  border-bottom: 1px solid #e3e5e6;\n  border-radius: 8px;\n  white-space: nowrap;\n}\n.styles_emptyListMessage__299iG.styles_emptyListMessage__299iG.styles_emptyListMessage__299iG {\n  color: #384047;\n}\n.styles_notificationIconWrap__1rU0B {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n.styles_notificationIconWrapVisible__ukR8f svg path {\n  fill: #3bb3bd;\n  transition: fill 0.2s;\n}\n.styles_notificationIconWrapVisible__ukR8f svg:hover path {\n  fill: #3bb3bd;\n}\n"),t.a={notificationPopupWrapper:"styles_notificationPopupWrapper__zI0w5",notificationsList:"styles_notificationsList__1t7Ca",emptyListMessage:"styles_emptyListMessage__299iG",notificationIconWrap:"styles_notificationIconWrap__1rU0B",notificationIconWrapVisible:"styles_notificationIconWrapVisible__ukR8f"}},2386:function(e,t,a){"use strict";var n=a(8),i=a(0),r=a.n(i),s=a(35),o=a(96),l=a(2),c=a(38),u=a(746),d=a(710),f=a.n(d),m=a(2025),g=a(46);Object(g.a)(".styles_messageStrong__EAvDf {\n  font-weight: 500;\n}\n.styles_avatarImg__3qW6d {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  display: block;\n}\n");var v={messageStrong:"styles_messageStrong__EAvDf",avatarImg:"styles_avatarImg__3qW6d"},b=function(e){var t=e.language,a=e.lesson,r=e.timezone,o=e.onConfirm,c=e.onReport,u="ua"===t?"uk":t,d={month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:r,hour12:!1};return Object(i.createElement)(m.a,null,{icon:Object(i.createElement)("img",{className:v.avatarImg,src:a.tutor.user.profile.avatarUrl,alt:"Notification tutor image","data-qa-group":"notification-tutor-ava-img"}),message:Object(i.createElement)("div",{"data-qa-group":"lesson-confirmation-msg"},Object(i.createElement)(s.a,{defaultMessage:"Did you complete a lesson with {fullName} on {date}?",values:Object(n.h)({},l.formattedMessageAbTestValues,{},{fullName:Object(i.createElement)("b",{className:v.messageStrong},a.tutor.fullName),date:Object(i.createElement)("b",{className:v.messageStrong},function(){try{return new Intl.DateTimeFormat(u,d).format(new Date(a.datetime))}catch(e){return new Date(a.datetime).toLocaleString(u)}}())}),id:'{"defaultMessage":"Did you complete a lesson with {fullName} on {date}?","description":""}'})),primaryAction:Object(i.createElement)(m.b,{primary:!0,href:"/".concat(t,"/lessons?trigger-reload=").concat(Date.now(),"#/rating/").concat(a.id),onClick:o,"data-qa-group":"notification-lesson-confirmation-btns"},Object(i.createElement)(s.a,{defaultMessage:"Confirm lesson",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"Confirm lesson","description":""}'})),secondaryAction:Object(i.createElement)(m.b,{href:"/".concat(t,"/lessons?trigger-reload=").concat(Date.now(),"#lesson/").concat(a.id,"/report"),onClick:c,"data-qa-group":"notification-lesson-report-btns"},Object(i.createElement)(s.a,{defaultMessage:"Report issue",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"Report issue","description":""}'}))})},p=a(2380);a.d(t,"a",(function(){return h}));var h=Object(u.a)((function(e){var t=e.lessons,a=e.language,i=e.timezone,u=e.customSystemMessage,d=e.onAction,m=e.isTutorNotificationBellActive,g=u.every((function(e){return null===e}));return r.a.createElement("div",{className:p.a.notificationPopupWrapper},r.a.createElement("div",{className:p.a.notificationsList},f()(t)&&g?r.a.createElement("div",{className:p.a.emptyListMessage,"data-qa-id":"nav-empty-notifications-list"},m?r.a.createElement(o.a,{variant:"xs-medium",color:"gray-400"},r.a.createElement(s.a,{id:"navigation.notification_bell.notifications.title",defaultMessage:"NOTIFICATIONS",values:l.formattedMessageAbTestValues})):null,r.a.createElement(o.a,{variant:"xs",color:"gray-400"},r.a.createElement(s.a,{defaultMessage:"There are no notifications for you",values:l.formattedMessageAbTestValues,id:'{"defaultMessage":"There are no notifications for you","description":""}'}))):t.map((function(e){return r.a.createElement(b,Object(n.e)({key:e.id},{language:a,lesson:e,timezone:i},{onConfirm:function(){d(),Object(c.j)()},onReport:function(){d(),Object(c.I)()}}))})),u))}))},346:function(e,t,a){"use strict";var n=a(8),i=a(0),r=a.n(i);t.a=function(e){e.styles;var t=Object(n.i)(e,["styles"]);return r.a.createElement("svg",Object(n.e)({width:"40",height:"40",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),r.a.createElement("path",{fill:"#fff",d:"M0 0h48v48H0z"}),r.a.createElement("path",{d:"M6.488 20.418a.42.42 0 00.62-.277l.367-1.738c1.257-5.94 6.108-10.63 12.07-11.667a.42.42 0 10-.144-.828C13.104 7.004 7.981 11.955 6.653 18.23l-.366 1.738a.42.42 0 00.2.45zM41.743 28.395a.42.42 0 00-.646.212l-.541 1.692C38.702 36.08 33.4 40.254 27.363 40.68a.42.42 0 10.06.838c6.375-.45 11.975-4.856 13.933-10.963l.54-1.692a.42.42 0 00-.153-.468z",fill:"#CD4A86",stroke:"#CD4A86",strokeWidth:"2"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.136 19.851c.848-.44 1.535-.036 1.535.905l.002 7.186c0 .941-.687 2.061-1.535 2.502l-11.21 5.92c-.848.441-1.534.037-1.534-.904v-7.187c0-.94.686-2.06 1.534-2.5l11.208-5.922z",fill:"#27E0F6"}),r.a.createElement("path",{d:"M31.011 15.627c.612.31 1.039 1.027.826 1.705-.124.394-.555.73-.927.922l-3.283 1.662-8.04 4.168c-.453.257-1.193.139-1.193-.525 0-.233.159-.414.34-.554l2.84-2.303c-.66-.348-1.332-.813-1.644-.978-.802-.426-.856-1.107-.856-1.367v-7.088c0-.247-.013-.446.063-.69a1.03 1.03 0 011.296-.667c.096.03.172.077.264.127l10.314 5.588z",fill:"#CD4A86"}))}}}]);